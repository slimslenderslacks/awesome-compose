{"cells":[{"kind":1,"language":"markdown","value":"## Compose sample application\n\n## Node.js application with Nginx proxy and Redis database\n\nProject structure:\n\n```\n.\n├── README.md\n├── compose.yaml\n├── nginx\n│   ├── Dockerfile\n│   └── nginx.conf\n└── web\n    ├── Dockerfile\n    ├── package.json\n    └── server.js\n\n2 directories, 7 files\n\n\n\n```\n\n\n\n[*compose.yaml*](compose.yaml)"},{"kind":2,"language":"dockercompose","value":""},{"kind":1,"language":"markdown","value":"The compose file defines an application with four services `redis`, `nginx`, `web1` and `web2`.\nWhen deploying the application, docker compose maps port 80 of the nginx service container to port 80 of the host as specified in the file.\n\n> ℹ️ ***INFO***\nRedis runs on port 6379 by default. Make sure port 6379 on the host is not being used by another container, otherwise the port should be changed.\n\n## Deploy with docker compose"},{"kind":2,"language":"shellscript","value":"docker compose up -d"},{"kind":1,"language":"markdown","value":"## Expected result\n\nListing containers must show three containers running and the port mapping as below:"},{"kind":2,"language":"shellscript","value":""},{"kind":1,"language":"markdown","value":"## Testing the app\n\nAfter the application starts, navigate to `http://localhost:80` in your web browser or run:"},{"kind":2,"language":"shellscript","value":""},{"kind":1,"language":"markdown","value":"## Stop and remove the containers"},{"kind":2,"language":"shellscript","value":"docker compose down"}]}