{"cells":[{"kind":1,"language":"markdown","value":"## Compose sample\n\n### Prometheus & Grafana\n\nProject structure:\n\n```\n.\n├── compose.yaml\n├── grafana\n│   └── datasource.yml\n├── prometheus\n│   └── prometheus.yml\n└── README.md\n\n```\n\n\n\n[*compose.yaml*](compose.yaml)"},{"kind":2,"language":"dockercompose","value":""},{"kind":1,"language":"markdown","value":"The compose file defines a stack with two services `prometheus` and `grafana`.\nWhen deploying the stack, docker compose maps port the default ports for each service to the equivalent ports on the host in order to inspect easier the web interface of each service.\nMake sure the ports 9090 and 3000 on the host are not already in use.\n\n## Deploy with docker compose"},{"kind":2,"language":"shellscript","value":"docker compose up -d"},{"kind":1,"language":"markdown","value":"## Expected result\n\nListing containers must show two containers running and the port mapping as below:"},{"kind":2,"language":"shellscript","value":"docker ps"},{"kind":1,"language":"markdown","value":"Navigate to `http://localhost:3000` in your web browser and use the login credentials specified in the compose file to access Grafana. It is already configured with prometheus as the default datasource.\n\n<img src=\"output.jpg\" width=\"500\"/>\n\nNavigate to `http://localhost:9090` in your web browser to access directly the web interface of prometheus.\n\nStop and remove the containers. Use `-v` to remove the volumes if looking to erase all data."},{"kind":2,"language":"shellscript","value":"docker compose down -v"}]}