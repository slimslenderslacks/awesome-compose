{"cells":[{"kind":1,"language":"markdown","value":"## Minecraft server\n\nThis example defines a basic setup for a Minecraft server. More details on the Minecraft server docker image can be found [here](https://github.com/itzg/docker-minecraft-server/blob/master/README.md).\n\nProject structure:\n\n```\n.\n├── compose.yaml\n└── README.md\n\n```\n\n\n\n[*compose.yaml*](compose.yaml)"},{"kind":2,"language":"dockercompose","value":""},{"kind":1,"language":"markdown","value":"When deploying this setup, docker compose maps the Minecraft server port 25565 to\nthe same port of the host as specified in the compose file. The Minecraft client application can connect to this port directly.\nThis example maps the Minecraft data folder holding all game storage to ~/minecraft_data on the host.\n\n## Deploy with docker compose"},{"kind":2,"language":"shellscript","value":"mkdir -p ~/minecraft_data\ndocker compose up -d"},{"kind":1,"language":"markdown","value":"Note: this is using a volume in order to store Minecraft server data, that can be recovered if you remove the container and restart it.\n\n## Expected result\n\nCheck containers are running and the port mapping:"},{"kind":2,"language":"shellscript","value":"docker ps"},{"kind":1,"language":"markdown","value":"After running `docker-compose up`, the minecraft server takes a bit of time to initialize Minecraft world. You can follow the progress:"},{"kind":2,"language":"shellscript","value":"docker compose logs"},{"kind":1,"language":"markdown","value":"Once it is initialized, run your Minecraft application, hit \"Play\", then \"Multiplayer\" and \"Add server\"\n<img src=\"screenshots/click-add-server.png\" width=\"500\"/>\n\nSpecify your new server IP : localhost:25565\n<img src=\"screenshots/add-server-config.png\" width=\"500\"/>\n\nYou can then start playing\n<img src=\"screenshots/ready-to-play.png\" width=\"500\"/>\n\nStop and remove the containers"},{"kind":2,"language":"shellscript","value":"docker compose down"},{"kind":1,"language":"markdown","value":"To delete all data, remove all named volumes by passing the -v arguments:"},{"kind":2,"language":"shellscript","value":"docker compose down -v"}]}